{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    "schedule:earlyMondays",
    ":semanticCommitTypeAll(chore)",
    "github>whitesource/merge-confidence:beta",
    "github>aquaproj/aqua-renovate-config#1.2.6"
  ],
  "labels": [
    "dependencies"
  ],
  "binarySource": "docker",
  "semanticCommits": "enabled",
  "pruneStaleBranches": true,
  "rebaseWhen": "behind-base-branch",
  "semanticCommitType": "chore",
  "semanticCommitScope": "deps",
  "platformAutomerge": true,
  "automergeStrategy": "squash",
  "unicodeEmoji": true,
  "rangeStrategy": "pin",
  "postUpdateOptions": [
    "gomodTidy",
    "gomodUpdateImportPaths"
  ],
  "prCreation": "not-pending", // allow checks to run but even if fail it will create them. means you don't have to wait to see if they pass by time PR created
  "onboardingPrTitle": "chore(deps): onboard with renovate",
  "gomod": {
    "enabled": true,
    "commitMessageTopic": "‚¨ÜÔ∏è golang module {{depName}}"
  },
  "docker": {
    "enabled": true,
    "commitMessageTopic": "‚¨ÜÔ∏è docker update üê≥ {{depName}}"
  },
  "vulnerabilityAlerts": {
    "enabled": true,
    "prCreation": "immediate",
    "labels": [
      "security"
    ]
  },
  "npm": {
    "commitMessageTopic": "‚¨ÜÔ∏è npm update {{depName}}",
    "fileMatch": [
      "(^|/)package.json$"
    ],
    "rollbackPrs": true,
    "versioning": "npm"
  },
  "terraform": {
    "commitMessageTopic": "‚òÅÔ∏è terraform update {{depName}}",
    "enabled": true
  },
  "major": {
    "dependencyDashboardApproval": true
  },
  "minor": {
    "automerge": true
  },
  "patch": {
    "automerge": true
  },
  "packageRules": [
    {
      "matchPackagePatterns": [
        "aws-sdk"
      ],
      "groupName": "aws-sdk",
      "commitMessageTopic": "‚òÅÔ∏è aws-sdk update {{depName}}"
    },
    {
      "matchPaths": [
        "magefiles"
      ],
      "groupName": "mage-tooling",
      "commitMessageTopic": "ü§ñ mage tooling",
      "automerge": true,
      "matchUpdateTypes": [
        "minor",
        "patch"
      ]
    },
    {
      "matchPackagePatterns": [
        "github.com/sheldonhull/magetools"
      ],
      "groupName": "mage-tooling",
      "commitMessageTopic": "ü§ñ mage tooling",
      "automerge": true,
      "matchUpdateTypes": [
        "minor",
        "patch"
      ]
    },
    {
      "matchPaths": [
        ".github"
      ],
      "groupName": "github-actions",
      "automerge": true,
      "commitMessageTopic": "ü§ñ github actions {{depName}}",
      "matchUpdateTypes": [
        "minor",
        "patch"
      ]
    },
    {
      "matchManagers": [
        "npm"
      ],
      "matchDepTypes": [
        "devDependencies"
      ],
      "enabled": true,
      "groupName": "npm-devdependencies",
      "stabilityDays": 5
    },
    {
      "matchDatasources": [
        "npm"
      ],
      "stabilityDays": 5
    },
    {
      "description": "Opt-out minimum Go version updates: https://github.com/renovatebot/renovate/issues/16715",
      "matchManagers": [
        "gomod"
      ],
      "matchDepTypes": [
        "golang"
      ],
      "enabled": false
    },
    {
      "matchPaths": [
        "aqua.yaml",
        "registry.yaml"
      ],
      "groupName": "aqua-packages",
      "automerge": true,
      "commitMessageTopic": "ü§ñ aqua tooling",
      "matchUpdateTypes": [
        "minor",
        "patch"
      ]
    }
  ]
}